// Мобильный профиль — современный тёмный UI

$mobile-padding: 16px;
$radius-lg: 16px;
$radius-md: 12px;
$radius-sm: 10px;

$bg-elev-1: rgba(255, 255, 255, 0.04);
$bg-elev-2: rgba(255, 255, 255, 0.06);
$bg-elev-3: rgba(255, 255, 255, 0.08);
$border-soft: rgba(255, 255, 255, 0.08);
$text-primary: #e7e7e7;
$text-secondary: #bdbdbd;
$text-dim: #9aa0a6;
$accent: #d60000;
$accent-2: #7c3aed; // фиолетовый акцент

.profile-mobile-wrapper {
  margin-top: -40px;
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 14px;
  padding-bottom: 64px;
  color: $text-primary;
  min-height: 100vh;
  // Градиент применяется через inline style в TSX
}

// Страница перманентного бана с градиентом
.permanent-ban-page {
  position: relative;
  min-height: 100vh;
  // Градиент применяется через inline style в TSX
}

.profile-mobile-banner {
  position: relative;
  width: 100%;
  border-radius: 20px;
  height: 160px;
  background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0));
  border-bottom: 1px solid $border-soft;
  .profile-mobile-banner-img {
    filter: brightness(0.9) saturate(1.05);
    border-radius: 20px;
  }
}

.banner-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: $text-dim;
}

.profile-mobile-avatar-block {
 z-index: 10;
  display: flex;
  justify-content: center;
  margin-top: -48px;
}

.profile-mobile-avatar {
  border-radius: 50%;
  border: 3px solid rgba(255,255,255,0.14);
  box-shadow: 0 10px 24px rgba(0,0,0,0.35);
  background: #0e0e0e;
}

.profile-mobile-username-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  padding: 0 $mobile-padding;
}

.profile-mobile-badges {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: center;
}

.profile-badge-icon-wrapper {
  width: 28px;
  height: 28px;
  display: grid;
  place-items: center;
  background: $bg-elev-2;
  border: 1px solid $border-soft;
  border-radius: 999px;
  transition: transform .15s ease, background .2s ease;
  &:hover { transform: translateY(-2px); background: $bg-elev-3; }
}
.profile-badge-icon { color: $text-primary; }

.nickname-verified-mobile {
  display: flex;
  align-items: center;
  gap: 8px;
}

.profile-mobile-username {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: 0.2px;
}

.verified-badge-mobile {
    position: relative;
  display: inline-flex;
  top: 5px;
  align-items: center;
  justify-content: center;
  width: 35px; height: 22px;
  border-radius: 999px;
}
.verified-icon-mobile { width: 30px; height: 30px; }

.mobile-add-friends-req-and-sapr-btn {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid $border-soft;
  background: $bg-elev-1;
  color: $text-primary;
  cursor: pointer;
  transition: background .2s ease, transform .1s ease, opacity .2s ease;
  &:active { transform: translateY(1px) }
  &:disabled { opacity: .6; cursor: default; }
}

.mobile-add-friends-req-and-sapr-icon { font-size: 14px; }

.mobile-add-friends-req-and-sapr--add {
  background: rgba(124,58,237,0.12);
  border-color: rgba(124,58,237,0.35);
  color: #e6d7ff;
}

.mobile-add-friends-req-and-sapr--pending {
  background: rgba(234,179,8,0.12);
  border-color: rgba(234,179,8,0.35);
  color: #ffe9ae;
}

.mobile-add-friends-req-and-sapr--friends {
  background: rgba(34,197,94,0.14);
  border-color: rgba(34,197,94,0.35);
  color: #b6f2cd;
}

// Modal styles for unfriend confirmation
.mobile-add-friends-req-and-sapr-modal-overlay {
  position: fixed; inset: 0; z-index: 10000;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(4px);
  display: flex; align-items: center; justify-content: center;
}
.mobile-add-friends-req-and-sapr-modal {
  width: calc(100% - 32px);
  max-width: 420px;
  background: #121212;
  border: 1px solid $border-soft;
  border-radius: 14px;
  overflow: hidden;
}
.mobile-add-friends-req-and-sapr-modal-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 12px; border-bottom: 1px solid $border-soft;
}
.mobile-add-friends-req-and-sapr-modal-title { font-weight: 700; }
.mobile-add-friends-req-and-sapr-modal-close {
  background: transparent; border: none; color: $text-primary; font-size: 18px; line-height: 1; cursor: pointer;
}
.mobile-add-friends-req-and-sapr-modal-body { padding: 14px 12px; color: $text-secondary; }
.mobile-add-friends-req-and-sapr-modal-footer {
  display: flex; gap: 8px; justify-content: flex-end; padding: 10px 12px; border-top: 1px solid $border-soft;
}
.mobile-add-friends-req-and-sapr-btn-danger {
  padding: 8px 12px; border-radius: 10px; border: 1px solid rgba(239,68,68,0.35); background: rgba(239,68,68,0.14); color: #ffc3c3;
}
.mobile-add-friends-req-and-sapr-btn-secondary {
  padding: 8px 12px; border-radius: 10px; border: 1px solid $border-soft; background: $bg-elev-1; color: $text-primary;
}

.profile-mobile-roles {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: center;
}

.role-badge {
  padding: 6px 10px;
  font-size: 12px;
  border-radius: 999px;
  background: $bg-elev-2;
  border: 1px solid $border-soft;
  color: $text-secondary;
  &.admin { color: #ffb4b4; border-color: rgba(255, 104, 104, 0.35); background: rgba(255, 104, 104, 0.12); }
  &.moderator { color: #c9b6ff; border-color: rgba(168, 85, 247, 0.35); background: rgba(168, 85, 247, 0.12); }
  &.checker { color: #a9e3c5; border-color: rgba(34, 197, 94, 0.35); background: rgba(34, 197, 94, 0.12); }
}

.profile-mobile-bio {
  margin: 0 $mobile-padding;
  padding: 12px 14px;
  font-size: 14px;
  line-height: 1.5;
  color: $text-secondary;
  background: $bg-elev-1;
  border: 1px solid $border-soft;
  border-radius: $radius-md;
}

.stats-chart-container-mobile {
  padding: 10px;
  margin: 0 16px;
  background: $bg-elev-1;
  border: 1px solid $border-soft;
  border-radius: $radius-md;
  h2 {
    font-size: 18px;
    margin-bottom: 8px;
  }
  // красивый список статистики под круговой диаграммой
  .stats-list {
    display: grid;
    gap: 8px;
    width: 100%;

    .stat-line {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      background: $bg-elev-2;
      border: 1px solid $border-soft;
      border-radius: 12px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);

      span:first-child {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
        // цвет задаётся инлайном из компонента, используем его для маркера
        &::before {
          content: '';
          width: 10px;
          height: 10px;
          border-radius: 999px;
          background: currentColor;
          box-shadow: 0 0 0 2px rgba(255,255,255,0.06);
        }
      }

      span:last-child {
        font-weight: 700;
        color: $text-primary;
        background: $bg-elev-1;
        border: 1px solid $border-soft;
        padding: 4px 8px;
        border-radius: 10px;
        min-width: 36px;
        text-align: center;
      }
    }
  }
}

.view-collection-container {
  margin: 0 $mobile-padding;
}
.view-collection-btn {
  width: 100%;
  padding: 12px 14px;
  font-weight: 700;
  color: #ffdedd;
  background: linear-gradient(180deg, rgba(214,0,0,0.22), rgba(214,0,0,0.12));
  border: 1px solid rgba(214,0,0,0.45);
  border-radius: 12px;
  transition: transform .1s ease, filter .15s ease;
  &:active { transform: translateY(1px) scale(0.995); filter: brightness(0.98); }
}

.profile-stats-block-mobile {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin: 0 $mobile-padding;
}

.profile-stat-item {
  background: $bg-elev-1;
  border: 1px solid $border-soft;
  border-radius: $radius-md;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  .stat-title { font-size: 12px; color: $text-dim; }
  .stat-value { font-size: 16px; font-weight: 700; color: $text-primary; }
}

.profile-mobile-tabs-bar {
  position: sticky;
  top: 60px; // ниже шапки
  z-index: 5;
  display: flex;
  overflow-x: auto;
  gap: 8px;
  padding: 8px $mobile-padding;
  // Плавный переход от градиента к сплошному фону
  background: linear-gradient(180deg, rgba(13, 13, 13, 0.85) 0%, #0d0d0d 100%);
  backdrop-filter: blur(6px);
  // скрыть визуально горизонтальный скроллбар, но оставить прокрутку
  -ms-overflow-style: none; // IE/Edge
  scrollbar-width: none; // Firefox
  &::-webkit-scrollbar { display: none; height: 0; }
}

.profile-mobile-tab-btn {
  white-space: nowrap;
  padding: 10px 14px;
  font-size: 13px;
  color: $text-secondary;
  background: $bg-elev-1;
  border: 1px solid $border-soft;
  border-radius: 999px;
  transition: background .2s ease, color .2s ease, transform .15s ease;
  &:hover { background: $bg-elev-2; color: $text-primary; transform: translateY(-1px); }
  &.active { background: rgba(214,0,0,0.14); color: #ffd1d1; border-color: rgba(214,0,0,0.4); }
}

// Контент вкладок — читаемый на мобиле
.profile-mobile-tabs-content {
  display: grid;
  gap: 16px;
  padding: 16px $mobile-padding;
  margin-top: 0;
  background: #0d0d0d; // Сплошной фон, чтобы скрыть градиент профиля
  min-height: 50vh; // Минимальная высота для покрытия градиента

  // Унифицированные отступы разделов внутри контента
  .friends-mobile-section,
  .recent-activity-mobile,
  .user-reviews-block-mobile {
    padding: 0; // уже есть общий контентный padding
  }

  // Заголовки секций
  h2 {
    font-size: 18px;
    line-height: 1.25;
    margin: 4px 0 8px 2px;
  }
}

// Обзор — избранное
.overview-mobile { padding: 0 $mobile-padding; }
// Коллекции
.user-collections-mobile { padding: 0 $mobile-padding; display: flex; flex-direction: column; gap: 12px; }
.tabs-container-mobile { display: flex; flex-wrap: wrap; gap: 8px; }
.tab-button-mobile {
  padding: 8px 12px;
  font-size: 12.5px;
  background: $bg-elev-1;
  border: 1px solid $border-soft;
  color: $text-secondary;
  border-radius: 999px;
  &.active { background: rgba(124,58,237,0.16); border-color: rgba(124,58,237,0.4); color: #e6d7ff; }
}
.collection-grid-mobile {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}
.collection-card-mobile {
  background: $bg-elev-1;
  border: 1px solid $border-soft;
  border-radius: $radius-md;
  padding: 8px;
  display: flex; flex-direction: column; gap: 6px; align-items: center;
}
.collection-cover-mobile { border-radius: $radius-sm; }
.collection-title-mobile { font-size: 12.5px; text-align: center; color: $text-primary; }
.loading-text, .empty-text { color: $text-dim; text-align: center; padding: 12px 0; }

// Друзья
.friends-mobile-section { padding: 0 $mobile-padding; display: flex; flex-direction: column; gap: 16px; }
.incoming-requests-mobile {
  background: $bg-elev-1; border: 1px solid $border-soft; border-radius: $radius-lg; padding: 12px;
  h3 { font-size: 16px; margin-bottom: 10px; }
}
.friend-request-card-mobile {
  background: $bg-elev-2; border: 1px solid $border-soft; border-radius: $radius-md; padding: 10px; display: flex; justify-content: space-between; align-items: center;
  & + & { margin-top: 8px; }
}
.friend-request-info { display: flex; gap: 10px; align-items: center; }
.friend-request-avatar { border-radius: 50%; border: 2px solid rgba(255,255,255,0.12); background: #0e0e0e; }
.friend-request-text { display: flex; flex-direction: column; }
.friend-request-name { font-weight: 600; font-size: 14px; color: $text-primary; }
.friend-request-username { font-size: 12px; color: $text-dim; }
.friend-request-actions { display: flex; gap: 8px; }
.btn-accept, .btn-decline {
  padding: 8px 12px; font-size: 12.5px; border-radius: 10px; border: 1px solid $border-soft; background: $bg-elev-1; color: $text-primary;
}
.btn-accept { background: rgba(34,197,94,0.14); border-color: rgba(34,197,94,0.35); color: #b6f2cd; }
.btn-decline { background: rgba(239,68,68,0.14); border-color: rgba(239,68,68,0.35); color: #ffc3c3; }

.friends-list-mobile { display: grid; grid-template-columns: 1fr; gap: 10px; }
.no-friends-message { color: $text-dim; text-align: center; padding: 12px 0; }

.friend-card-mobile {
  position: relative;
  border-radius: $radius-lg;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  // С кастомными цветами профиля друга
  &[data-has-colors="true"] {
    background: rgba(255, 255, 255, 0.02) !important;
    border: 3px solid transparent !important;
    background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), 
                      linear-gradient(180deg, var(--friend-color-1) 0%, var(--friend-color-2) 100%) !important;
    background-origin: border-box !important;
    background-clip: padding-box, border-box !important;
    box-shadow: 0 0 16px rgba(var(--friend-color-1-rgb, 102, 126, 234), 0.2),
                0 0 24px rgba(var(--friend-color-2-rgb, 102, 126, 234), 0.15) !important;

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 13px;
      background: linear-gradient(180deg, var(--friend-color-1) 0%, var(--friend-color-2) 100%);
      opacity: 0.08;
      z-index: 0;
      pointer-events: none;
    }

    &:active {
      transform: scale(0.98);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3),
                  0 0 16px rgba(var(--friend-color-1-rgb, 102, 126, 234), 0.25),
                  0 0 20px rgba(var(--friend-color-2-rgb, 102, 126, 234), 0.2) !important;

      &::before {
        opacity: 0.12;
      }
    }

    .friend-banner-mobile,
    .friend-row-mobile {
      position: relative;
      z-index: 1;
    }
  }

  // Без кастомных цветов
  &[data-has-colors="false"] {
    background: $bg-elev-1;
    border: 2px solid $border-soft;
    box-shadow: 0 0 12px rgba(0, 0, 0, 0.2);

    &:active {
      transform: scale(0.98);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3),
                  0 0 14px rgba(0, 0, 0, 0.25);
    }
  }
}

.friend-banner-mobile {
  width: 100%;
  height: 100px;
  position: relative;
  overflow: hidden;

  img, video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: saturate(1.05) brightness(0.9);
  }
}

.friend-row-mobile {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 10px;
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(8px);
}

.friend-nick-col-mobile { display: flex; align-items: center; gap: 6px; }
.friend-name-mobile { font-size: 13px; font-weight: 700; letter-spacing: .2px; }
.friend-avatar-mobile { border-radius: 50%; border: 2px solid var(--friend-color-1, rgba(255,255,255,0.12)); background: #0e0e0e; }

// Активность
.recent-activity-mobile {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-left: -$mobile-padding;
  margin-right: -$mobile-padding;
}

.activity-section-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 4px;
  padding: 0 $mobile-padding;

  svg {
    color: $accent;
    flex-shrink: 0;
  }

  h2 {
    margin: 0;
  }
}

.activity-list {
  display: grid;
  gap: 0;
}

.activity-card {
  background: $bg-elev-1;
  border: 1px solid $border-soft;
  border-radius: 0;
  border-left: none;
  border-right: none;
  border-top: none;
  padding: 12px $mobile-padding;
  display: flex;
  gap: 12px;
  align-items: flex-start;
  transition: all 0.2s ease;

  &:first-child {
    border-top: 1px solid $border-soft;
  }

  &:active {
    transform: scale(0.99);
    background: $bg-elev-2;
  }
}

.activity-icon {
  width: 36px;
  height: 36px;
  flex-shrink: 0;
  display: grid;
  place-items: center;
  border: 1.5px solid;
  border-radius: 10px;
  transition: all 0.2s ease;
}

.activity-content {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.activity-title {
  font-weight: 600;
  font-size: 13.5px;
  color: $text-primary;
  line-height: 1.4;
}

.activity-time {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 11.5px;
  color: $text-dim;

  svg {
    flex-shrink: 0;
    opacity: 0.7;
  }
}

.activity-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 32px $mobile-padding;
  color: $text-dim;
  text-align: center;

  span {
    font-size: 14px;
    font-weight: 500;
  }
}

// Спиннер загрузки для фоновых данных
.loading-spinner-container {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 48px $mobile-padding;
  min-height: 120px;
}

// Отзывы
.user-reviews-block-mobile {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-left: -$mobile-padding;
  margin-right: -$mobile-padding;
}

.reviews-section-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 4px;
  padding: 0 $mobile-padding;

  svg {
    color: $accent;
    flex-shrink: 0;
  }

  h2 {
    margin: 0;
  }
}

.reviews-list {
  display: grid;
  gap: 0;
}

.review-card {
  background: $bg-elev-1;
  border: 1px solid $border-soft;
  border-radius: 0;
  border-left: none;
  border-right: none;
  border-top: none;
  padding: 12px $mobile-padding;
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: all 0.2s ease;

  &:first-child {
    border-top: 1px solid $border-soft;
  }

  &:active {
    transform: scale(0.99);
    background: $bg-elev-2;
  }
}

.anime-header-review {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.review-cover-wrapper {
  flex-shrink: 0;
  border-radius: $radius-sm;
  overflow: hidden;
  border: 1px solid $border-soft;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);

  img {
    width: 56px;
    height: 80px;
    object-fit: cover;
    display: block;
  }
}

.anime-info-review {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;

  h3 {
    font-size: 14px;
    font-weight: 700;
    color: $text-primary;
    line-height: 1.3;
    margin: 0;
  }
}

.rating-container {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.stars-wrapper {
  display: flex;
  gap: 3px;
}

.rating-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 700;
  width: fit-content;

  svg {
    flex-shrink: 0;
  }
}

.review-text-wrapper {
  position: relative;
  background: $bg-elev-2;
  border: 1px solid $border-soft;
  border-radius: 10px;
  padding: 10px 12px;
  padding-left: 36px;
}

.review-quote-icon {
  position: absolute;
  left: 10px;
  top: 10px;
  color: $text-dim;
  opacity: 0.4;
}

.review-text {
  color: $text-secondary;
  font-size: 13px;
  line-height: 1.6;
  margin: 0;
}

.reviews-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 32px $mobile-padding;
  color: $text-dim;
  text-align: center;

  span {
    font-size: 14px;
    font-weight: 500;
  }
}

// Утилиты
.profile-mobile-utils { padding: 0 $mobile-padding; display: flex; flex-direction: column; gap: 12px; }
.utils-buttons { display: grid; gap: 10px; grid-template-columns: 1fr; }
.utils-btn {
  display: flex; align-items: center; gap: 10px;
  padding: 12px;
  background: $bg-elev-1; border: 1px solid $border-soft; border-radius: $radius-md;
  color: $text-primary;
}
.utils-btn.settings-btn { background: rgba(59,130,246,0.12); border-color: rgba(59,130,246,0.35); color: #cfe1ff; }
.utils-btn.admin-btn { background: rgba(168,85,247,0.12); border-color: rgba(168,85,247,0.35); color: #e6d7ff; }
.utils-btn.logout-btn { background: rgba(239,68,68,0.12); border-color: rgba(239,68,68,0.35); color: #ffd1d1; }
.btn-icon { font-size: 16px; }
.btn-text { font-size: 14px; font-weight: 600; }

// Полноэкранная мобильная модалка друзей
.mobile-friends-modal-overlay {
  position: fixed; inset: 0; z-index: 9999;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(4px);
  display: flex; align-items: flex-end; justify-content: center;
}
.mobile-friends-modal {
  width: 100%; height: 90vh; max-width: 700px;
  background: #121212;
  border-top-left-radius: 16px; border-top-right-radius: 16px;
  border: 1px solid $border-soft;
  display: flex; flex-direction: column;
}
.mobile-friends-modal-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 12px 8px 12px; border-bottom: 1px solid $border-soft;
}
.mobile-friends-tabs { display: flex; gap: 8px; overflow-x: auto; }
.mobile-friends-tabs {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar { display: none; height: 0; }
}
.tab-chip {
  white-space: nowrap; padding: 8px 12px; border-radius: 999px; border: 1px solid $border-soft;
  background: $bg-elev-1; color: $text-secondary; font-size: 13px;
  &.active { background: rgba(214,0,0,0.14); color: #ffd1d1; border-color: rgba(214,0,0,0.4); }
}
.close-btn { background: transparent; border: none; color: $text-primary; font-size: 22px; line-height: 1; }
.mobile-friends-modal-body { padding: 12px; overflow-y: auto; display: grid; gap: 10px; }
.mobile-friends-list, .mobile-requests-list { display: grid; gap: 10px; }
.mobile-friend-item, .mobile-request-item {
  background: $bg-elev-1; border: 1px solid $border-soft; border-radius: 14px; overflow: hidden;
}
.mobile-friend-item .banner { height: 72px; background: linear-gradient(90deg, rgba(214,0,0,0.2), rgba(124,58,237,0.2)); background-size: cover; background-position: center; }
.mobile-friend-item .row, .mobile-request-item { display: flex; align-items: center; justify-content: space-between; gap: 10px; padding: 10px; }
.mobile-request-item .left, .mobile-friend-item .left { display: flex; align-items: center; gap: 10px; }
.mobile-request-item .col, .mobile-friend-item .col { display: flex; flex-direction: column; gap: 2px; }
.mobile-request-item .name, .mobile-friend-item .name { font-weight: 700; }
.mobile-friend-item .name.admin { color: #ffb4b4; }
.mobile-friend-item .name.moderator { color: #c9b6ff; }
.mobile-friend-item .name.user { color: $text-primary; }
.mobile-request-item .username, .mobile-friend-item .username { font-size: 12px; color: $text-dim; }
.mobile-request-item .right, .mobile-friend-item .right { display: flex; gap: 8px; }
.btn-primary { background: rgba(34,197,94,0.14); border: 1px solid rgba(34,197,94,0.35); color: #b6f2cd; padding: 8px 10px; border-radius: 10px; }
.btn-secondary { background: rgba(255,255,255,0.08); border: 1px solid $border-soft; color: $text-primary; padding: 8px 10px; border-radius: 10px; }
.btn-danger { background: rgba(239,68,68,0.14); border: 1px solid rgba(239,68,68,0.35); color: #ffc3c3; padding: 8px 10px; border-radius: 10px; }

// Полноэкранная мобильная модалка коллекции пользователя
.mobile-collection-modal-overlay {
  position: fixed; inset: 0; z-index: 9999;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(4px);
  display: flex; align-items: flex-end; justify-content: center;
}
.mobile-collection-modal {
  width: 100%; height: 90vh; max-width: 700px;
  background: #121212;
  border-top-left-radius: 16px; border-top-right-radius: 16px;
  border: 1px solid $border-soft;
  display: flex; flex-direction: column;
}
.mobile-collection-modal-header {
  display: flex; align-items: center; justify-content: space_between; gap: 8px;
  padding: 12px; border-bottom: 1px solid $border-soft;
}
.mobile-collection-tabs { display: flex; gap: 8px; overflow-x: auto; }
.mobile-collection-tabs {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar { display: none; height: 0; }
}
.mobile-collection-modal-body { padding: 2px; overflow-y: auto; }
.mobile-collection-list {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  justify-items: center; // центрируем фикс-ширинные карточки 120px
}
// Мелкие правки для плотности на очень маленьких экранах
@media (max-width: 360px) {
  .profile-mobile-banner { height: 140px; }
  .collection-grid-mobile { grid-template-columns: repeat(2, 1fr); }
}


